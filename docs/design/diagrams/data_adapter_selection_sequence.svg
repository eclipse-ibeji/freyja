<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="561px" preserveAspectRatio="none" style="width:1107px;height:561px;background:#FEFEFE;" version="1.1" viewBox="0 0 1107 561" width="1107px" zoomAndPan="magnify"><defs><filter height="300%" id="f197mx7corm54p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#00FFFF" filter="url(#f197mx7corm54p)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="564.5" x="243" y="169.6953"/><rect fill="#FEFEFE" filter="url(#f197mx7corm54p)" height="130.7969" style="stroke: #000000; stroke-width: 2.0;" width="713.5" x="94" y="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="84" x2="84" y1="38.2969" y2="521.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="337" x2="337" y1="38.2969" y2="521.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="743.5" x2="743.5" y1="38.2969" y2="521.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="976" x2="976" y1="38.2969" y2="521.2891"/><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="15" y="22.9951">Freyja Cartographer</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="8" y="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="15" y="540.2842">Freyja Cartographer</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="253" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="260" y="22.9951">Data Adapter Selector</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="253" y="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="260" y="540.2842">Data Adapter Selector</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="689.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="696.5" y="22.9951">Data Adapter</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="689.5" y="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="696.5" y="540.2842">Data Adapter</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="223" x="863" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="209" x="870" y="22.9951">In-Vehicle Digital Twin Provider</text><rect fill="#FEFECE" filter="url(#f197mx7corm54p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="223" x="863" y="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="209" x="870" y="540.2842">In-Vehicle Digital Twin Provider</text><rect fill="#EEEEEE" filter="url(#f197mx7corm54p)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1092" x="3" y="68.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1095" y1="68.8633" y2="68.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1095" y1="71.8633" y2="71.8633"/><rect fill="#EEEEEE" filter="url(#f197mx7corm54p)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="225" x="436.5" y="58.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="442.5" y="74.3638">Selection of a Data Adapter</text><polygon fill="#A80036" points="325.5,108.5625,335.5,112.5625,325.5,116.5625,329.5,112.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84.5" x2="331.5" y1="112.5625" y2="112.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91.5" y="107.4966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="104.5" y="107.4966">create_or_update_adapter(entity)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.5" x2="379.5" y1="141.6953" y2="141.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379.5" x2="379.5" y1="141.6953" y2="154.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="338.5" x2="379.5" y1="154.6953" y2="154.6953"/><polygon fill="#A80036" points="348.5,150.6953,338.5,154.6953,348.5,158.6953,344.5,154.6953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="344.5" y="136.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="357.5" y="136.6294">Look up adapter in selector's local cache</text><path d="M243,169.6953 L307,169.6953 L307,176.6953 L297,186.6953 L243,186.6953 L243,169.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="564.5" x="243" y="169.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="258" y="182.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244" x="322" y="181.9058">[Matching Data Adapter Doesn't Exist]</text><polygon fill="#A80036" points="731.5,203.9609,741.5,207.9609,731.5,211.9609,735.5,207.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.5" x2="737.5" y1="207.9609" y2="207.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="344.5" y="202.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="369" x="357.5" y="202.895">Create a data adapter associated with the entity endpoint</text><path d="M94,229.9609 L171,229.9609 L171,236.9609 L161,246.9609 L94,246.9609 L94,229.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="130.7969" style="stroke: #000000; stroke-width: 2.0;" width="713.5" x="94" y="229.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="109" y="243.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="273" x="186" y="242.1714">[While adapters return loopback requests]</text><polygon fill="#A80036" points="731.5,264.2266,741.5,268.2266,731.5,272.2266,735.5,268.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.5" x2="737.5" y1="268.2266" y2="268.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="344.5" y="263.1606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="357.5" y="263.1606">Register the new entity</text><polygon fill="#A80036" points="348.5,321.0586,338.5,325.0586,348.5,329.0586,344.5,325.0586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342.5" x2="742.5" y1="325.0586" y2="325.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="354.5" y="319.9927">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="367.5" y="319.9927">Entity registration response</text><path d="M104,281.2266 L104,351.2266 L328,351.2266 L328,291.2266 L318,281.2266 L104,281.2266 " fill="#FBFB77" filter="url(#f197mx7corm54p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M318,281.2266 L318,291.2266 L328,291.2266 L318,281.2266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="110" y="298.2935">The entity registration response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="110" y="313.4263">can indicate success or failure,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="110" y="328.5591">or request a loopback with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="110" y="343.6919">updated entity information.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.5" x2="379.5" y1="388.8906" y2="388.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379.5" x2="379.5" y1="388.8906" y2="401.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="338.5" x2="379.5" y1="401.8906" y2="401.8906"/><polygon fill="#A80036" points="348.5,397.8906,338.5,401.8906,348.5,405.8906,344.5,401.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="344.5" y="383.8247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="357.5" y="383.8247">Map entity to adapter in selector's local cache</text><polygon fill="#A80036" points="964.5,427.0234,974.5,431.0234,964.5,435.0234,968.5,431.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.5" x2="970.5" y1="431.0234" y2="431.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="425.9575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="763.5" y="425.9575">Call get or subscribe for values</text><polygon fill="#A80036" points="754.5,456.1563,744.5,460.1563,754.5,464.1563,750.5,460.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="748.5" x2="975.5" y1="460.1563" y2="460.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="760.5" y="455.0903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="773.5" y="455.0903">Return values</text><rect fill="#EEEEEE" filter="url(#f197mx7corm54p)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1092" x="3" y="488.7227"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1095" y1="488.7227" y2="488.7227"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1095" y1="491.7227" y2="491.7227"/><rect fill="#EEEEEE" filter="url(#f197mx7corm54p)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="225" x="436.5" y="478.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="442.5" y="494.2231">Selection of a Data Adapter</text><!--MD5=[c4a5eb758d89eb93f30b960b1009af84]
@startuml
skinparamlocked backgroundColor fefefe
participant "Freyja Cartographer"
participant "Data Adapter Selector"
participant "Data Adapter"
participant "In-Vehicle Digital Twin Provider"
autonumber

== Selection of a Data Adapter ==

"Freyja Cartographer"->"Data Adapter Selector": create_or_update_adapter(entity)

"Data Adapter Selector"->"Data Adapter Selector": Look up adapter in selector's local cache

alt #Aqua Matching Data Adapter Doesn't Exist
    "Data Adapter Selector"->"Data Adapter": Create a data adapter associated with the entity endpoint
end

loop While adapters return loopback requests
"Data Adapter Selector"->"Data Adapter": Register the new entity
"Data Adapter Selector"<-"Data Adapter": Entity registration response
note left
The entity registration response
can indicate success or failure,
or request a loopback with
updated entity information.
end note
end

"Data Adapter Selector"->"Data Adapter Selector": Map entity to adapter in selector's local cache

"Data Adapter" -> "In-Vehicle Digital Twin Provider": Call get or subscribe for values
"In-Vehicle Digital Twin Provider" -> "Data Adapter": Return values
== Selection of a Data Adapter ==
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>